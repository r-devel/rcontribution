[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] New: Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n            Bug ID: 18784\n           Summary: Function RQuartz_glyph in devQuartz.c segfaults when\n                    font is not found.\n           Product: R\n           Version: R 4.4.x\n          Hardware: x86_64\/x64\/amd64 (64-bit)\n                OS: macOS\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Graphics\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>\n\nI was able to segfault R via this code:\n\n```\nlibrary(grid)\n\nfont &lt;- glyphFont(file.path(\"\", \"System\", \"Library\", \"Fonts\", \"Supplemental\",\n\"Courier Old.ttf\"), 0, \"Courier New\", 400, \"normal\")\n\nglyph &lt;- glyphInfo(id=56, x=0, y=0, font=1, size=36, glyphFontList(font),\nwidth=25, height=30)\n\ngrid.glyph(glyph)\n```\n\nI used not existent font file name.\n\nI debugged the code and found that this happens in `RQuartz_glyph` function in\n`devQuartz.c` file in the line: `int n_fonts =\nCFArrayGetCount(cfFontDescriptors);`\n\nBecause `cfFontDescriptors` is NULL.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724250766.478449",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1V7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] New: Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18784\n           Summary: Function RQuartz_glyph in devQuartz.c segfaults when\n                    font is not found.\n           Product: R\n           Version: R 4.4.x\n          Hardware: x86_64\/x64\/amd64 (64-bit)\n                OS: macOS\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Graphics\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nI was able to segfault R via this code:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "library(grid)\n\nfont <- glyphFont(file.path(\"\", \"System\", \"Library\", \"Fonts\", \"Supplemental\",\n\"Courier Old.ttf\"), 0, \"Courier New\", 400, \"normal\")\n\nglyph <- glyphInfo(id=56, x=0, y=0, font=1, size=36, glyphFontList(font),\nwidth=25, height=30)\n\ngrid.glyph(glyph)\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI used not existent font file name.\n\nI debugged the code and found that this happens in "
                            },
                            {
                                "type": "text",
                                "text": "RQuartz_glyph",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " function in\n"
                            },
                            {
                                "type": "text",
                                "text": "devQuartz.c",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " file in the line: `int n_fonts =\nCFArrayGetCount(cfFontDescriptors);`\n\nBecause "
                            },
                            {
                                "type": "text",
                                "text": "cfFontDescriptors",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is NULL."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18774] HDF5 library does not have FORTRAN support*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18774>\n\nTomas Kalibera (<mailto:tomas.kalibera@gmail.com|tomas.kalibera@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|CONFIRMED                   |CLOSED\n\n--- Comment #6 from Tomas Kalibera (<mailto:tomas.kalibera@gmail.com|tomas.kalibera@gmail.com>) ---\nTo appear in the next Rtools update. If you could test it on a development\nversion, that would be nice.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724250837.972099",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yjy",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18774] HDF5 library does not have FORTRAN support",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18774"
                            },
                            {
                                "type": "text",
                                "text": "\n\nTomas Kalibera ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:tomas.kalibera@gmail.com",
                                "text": "tomas.kalibera@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|CONFIRMED                   |CLOSED\n\n--- Comment #6 from Tomas Kalibera ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:tomas.kalibera@gmail.com",
                                "text": "tomas.kalibera@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nTo appear in the next Rtools update. If you could test it on a development\nversion, that would be nice."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n--- Comment #1 from Tomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) ---\nMy first thought is that we should not break R when user tries to load not\nexisting font.\n\nAlso I noticed that in case of error, function used to load fontDescriptors\nreturns NULL, so probably that's enough to check:\n[Apple\nDocs](<https:\/\/developer.apple.com\/documentation\/coretext\/1499500-ctfontmanagercreatefontdescripto?language=objc>)\n\nSo I'm attaching my own proposal of a patch.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724251474.274729",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "93hdu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #1 from Tomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nMy first thought is that we should not break R when user tries to load not\nexisting font.\n\nAlso I noticed that in case of error, function used to load fontDescriptors\nreturns NULL, so probably that's enough to check:\n[Apple\nDocs]("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/developer.apple.com\/documentation\/coretext\/1499500-ctfontmanagercreatefontdescripto?language=objc"
                            },
                            {
                                "type": "text",
                                "text": ")\n\nSo I'm attaching my own proposal of a patch."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n--- Comment #2 from Tomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) ---\nCreated attachment 3391\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3391&amp;action=edit>\nLet's check for nullity and realeas then.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724251548.359419",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3QKc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #2 from Tomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nCreated attachment 3391\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3391&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3391&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nLet's check for nullity and realeas then."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\nTomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3391|0                           |1\n        is obsolete|                            |\n\n--- Comment #3 from Tomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) ---\nCreated attachment 3392\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3392&amp;action=edit>\nFormatting fix",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724251967.458009",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "C5oE8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\nTomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3391|0                           |1\n        is obsolete|                            |\n\n--- Comment #3 from Tomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nCreated attachment 3392\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3392&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3392&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nFormatting fix"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\nElin Waring (<mailto:elin.waring@gmail.com|elin.waring@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n                 CC|                            |elin.waring@gmail.com\n\n--- Comment #4 from Elin Waring (<mailto:elin.waring@gmail.com|elin.waring@gmail.com>) ---\nThere is already an na check in `glyphFont()`  and I wonder if adding a\n`file.exists()` check and erroring right away would be a simpler solution.   \n\nBut also perhaps the message when the file is NA should also be clearer.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724263167.477699",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vUUI",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\nElin Waring ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:elin.waring@gmail.com",
                                "text": "elin.waring@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n                 CC|                            |elin.waring@gmail.com\n\n--- Comment #4 from Elin Waring ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:elin.waring@gmail.com",
                                "text": "elin.waring@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThere is already an na check in "
                            },
                            {
                                "type": "text",
                                "text": "glyphFont()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  and I wonder if adding a\n"
                            },
                            {
                                "type": "text",
                                "text": "file.exists()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " check and erroring right away would be a simpler solution.   \n\nBut also perhaps the message when the file is NA should also be clearer."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n--- Comment #5 from Tomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) ---\n(In reply to Elin Waring from comment #4)\nWhat check do you mean?\nI pasted the R code (`glyphFont` included) which is causing the problem.\n\nThis is a part of larger audit I'm doing with agreement with Paul Murrell on\npossible places of segmantation faults on Apple platforms.\n\nThe segmentation fault happens on quartz device level, so if any other function\nwill use the `RQuartz_glyph` function in the future it will encounter the same\nproblem.\n\nIt's better to warn the user of a problem to add some helper code than let\nbreak R for unknown segmentation problem.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724265315.255859",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PJQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #5 from Tomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Elin Waring from comment #4)\nWhat check do you mean?\nI pasted the R code ("
                            },
                            {
                                "type": "text",
                                "text": "glyphFont",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " included) which is causing the problem.\n\nThis is a part of larger audit I'm doing with agreement with Paul Murrell on\npossible places of segmantation faults on Apple platforms.\n\nThe segmentation fault happens on quartz device level, so if any other function\nwill use the "
                            },
                            {
                                "type": "text",
                                "text": "RQuartz_glyph",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " function in the future it will encounter the same\nproblem.\n\nIt's better to warn the user of a problem to add some helper code than let\nbreak R for unknown segmentation problem."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18433] nlme::simulate.lme 'donttest' example hangs, blocking R CMD check --as-cran*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18433>\n\nSebastian Meyer (<mailto:seb.meyer@fau.de|seb.meyer@fau.de>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|UNCONFIRMED                 |CLOSED\n\n--- Comment #8 from Sebastian Meyer (<mailto:seb.meyer@fau.de|seb.meyer@fau.de>) ---\n(In reply to Sebastian Meyer from comment #7)\n&gt; the issue is in `internal_loglik()` (from src\/nlmefit.c).\n&gt; A `lglk[i]` term becomes infinite ...\n\nWith the help of gdb and `!R_FINITE()` branches, I found that the problem is\nthat 'optif9' at one point tries very large `pars`, here c(849.665, 64.3347,\n54954.7), such that `exp(pars[0])` in 'logChol_pd' becomes infinite, so does\n`DmHalf[0]`, so does `lglk[0]`, and the return value becomes NaN.\n\nI have now committed (c8444) a variant of my previous Attachment 3338, catching\na non-finite value specifically *in the objective function* (mixed_fcn) used by\n'optif9' and returning DBL_MAX instead. The same strategy is used in stats'\noptimize.c (fcn).\n\nThe commit also adds a regression test for this issue (endless warnings) that\nwill error if too many warnings are caught.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724280368.234949",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tLsM7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18433] nlme::simulate.lme 'donttest' example hangs, blocking R CMD check --as-cran",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18433"
                            },
                            {
                                "type": "text",
                                "text": "\n\nSebastian Meyer ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:seb.meyer@fau.de",
                                "text": "seb.meyer@fau.de"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|UNCONFIRMED                 |CLOSED\n\n--- Comment #8 from Sebastian Meyer ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:seb.meyer@fau.de",
                                "text": "seb.meyer@fau.de"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Sebastian Meyer from comment #7)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the issue is in "
                            },
                            {
                                "type": "text",
                                "text": "internal_loglik()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (from src\/nlmefit.c).\nA "
                            },
                            {
                                "type": "text",
                                "text": "lglk[i]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " term becomes infinite ..."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nWith the help of gdb and "
                            },
                            {
                                "type": "text",
                                "text": "!R_FINITE()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " branches, I found that the problem is\nthat 'optif9' at one point tries very large "
                            },
                            {
                                "type": "text",
                                "text": "pars",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", here c(849.665, 64.3347,\n54954.7), such that "
                            },
                            {
                                "type": "text",
                                "text": "exp(pars[0])",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in 'logChol_pd' becomes infinite, so does\n"
                            },
                            {
                                "type": "text",
                                "text": "DmHalf[0]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", so does "
                            },
                            {
                                "type": "text",
                                "text": "lglk[0]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", and the return value becomes NaN.\n\nI have now committed (c8444) a variant of my previous Attachment 3338, catching\na non-finite value specifically "
                            },
                            {
                                "type": "text",
                                "text": "in the objective function",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (mixed_fcn) used by\n'optif9' and returning DBL_MAX instead. The same strategy is used in stats'\noptimize.c (fcn).\n\nThe commit also adds a regression test for this issue (endless warnings) that\nwill error if too many warnings are caught."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n--- Comment #6 from Elin Waring (<mailto:elin.waring@gmail.com|elin.waring@gmail.com>) ---\nYes but in this specific case the problem is called by asking for a file that\ndoes not exist, which is different than having a file path that is NA. \n\n<https:\/\/github.com\/r-devel\/r-svn\/blob\/46ad4920299b784fbbe6efe2bdc4dc76c2195328\/src\/library\/grDevices\/R\/glyph.R#L120>\n\n```\n  file &lt;- as.character(file)\n    nafile &lt;- is.na(file)\n    if (any(nchar(file[!nafile], \"bytes\") &gt; 500))\n        warning(\"Font file longer than 500 will be truncated\")\n\n\n```\nTo prevent going forward you could do something like\n\n\n```\n  file &lt;- as.character(file)\n  if ( !file.exists(file)) {\n      stop(\"Font file does not exist\")\n}\n    nafile &lt;- is.na(file)\n    if (any(nchar(file[!nafile], \"bytes\") &gt; 500))\n        warning(\"Font file longer than 500 will be truncated\")\n\n\n```\n\nSo it seems like the bug in this specific case is in the R code, but that\ndoesn't mean that the C code should be left as is. It's just that this\nparticular test case would be resolved.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724306336.235089",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ARS36",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #6 from Elin Waring ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:elin.waring@gmail.com",
                                "text": "elin.waring@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nYes but in this specific case the problem is called by asking for a file that\ndoes not exist, which is different than having a file path that is NA. \n\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/r-devel\/r-svn\/blob\/46ad4920299b784fbbe6efe2bdc4dc76c2195328\/src\/library\/grDevices\/R\/glyph.R#L120"
                            },
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "  file <- as.character(file)\n    nafile <- is.na(file)\n    if (any(nchar(file[!nafile], \"bytes\") > 500))\n        warning(\"Font file longer than 500 will be truncated\")\n\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "To prevent going forward you could do something like\n\n\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "  file <- as.character(file)\n  if ( !file.exists(file)) {\n      stop(\"Font file does not exist\")\n}\n    nafile <- is.na(file)\n    if (any(nchar(file[!nafile], \"bytes\") > 500))\n        warning(\"Font file longer than 500 will be truncated\")\n\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nSo it seems like the bug in this specific case is in the R code, but that\ndoesn't mean that the C code should be left as is. It's just that this\nparticular test case would be resolved."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784>\n\n--- Comment #7 from Tomek Gieorgijewski (<mailto:cybergeorge2020@gmail.com|cybergeorge2020@gmail.com>) ---\nThe root cause is in the C code because it uses NULL pointer without checking,\ncausing whole R crash.\n\nThe R code I use is just to show how to test it from R.\n\nOf course you can also modify R code if you'd like but doing _only_ that would\nbe covering the root cause.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1724309800.101619",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "46zJw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18784] Function RQuartz_glyph in devQuartz.c segfaults when font is not found.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18784"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #7 from Tomek Gieorgijewski ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:cybergeorge2020@gmail.com",
                                "text": "cybergeorge2020@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThe root cause is in the C code because it uses NULL pointer without checking,\ncausing whole R crash.\n\nThe R code I use is just to show how to test it from R.\n\nOf course you can also modify R code if you'd like but doing "
                            },
                            {
                                "type": "text",
                                "text": "only",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " that would\nbe covering the root cause."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]