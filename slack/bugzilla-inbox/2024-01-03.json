[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18643] New: checkPoFiles() should not require language=*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18643>\n\n            Bug ID: 18643\n           Summary: checkPoFiles() should not require language=\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Translations\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>\n\nCreated attachment 3279\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3279&amp;action=edit>\nExtend checkPoFiles() to allow missing(language) to mean \"all languages\"\n\nCurrently, `tools::checkPoFiles()` is an error because `language=` is required.\n\nBut this seems like a very natural approach for checking _all_ .po files.\n\nChecking one language is natural for _translators_, but not _developers_, who\nwould rather check their full package of .po files in one go.\n\nThe attached patch makes the minimal change to enable `tools::checkPoFiles()`\nto work as I intended, though there are other approaches here we could\nconsider.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1704294990.900909",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hftTn",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18643] New: checkPoFiles() should not require language=",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18643"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18643\n           Summary: checkPoFiles() should not require language=\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Translations\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nCreated attachment 3279\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3279&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3279&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nExtend checkPoFiles() to allow missing(language) to mean \"all languages\"\n\nCurrently, "
                            },
                            {
                                "type": "text",
                                "text": "tools::checkPoFiles()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is an error because "
                            },
                            {
                                "type": "text",
                                "text": "language=",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is required.\n\nBut this seems like a very natural approach for checking "
                            },
                            {
                                "type": "text",
                                "text": "all",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " .po files.\n\nChecking one language is natural for "
                            },
                            {
                                "type": "text",
                                "text": "translators",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", but not "
                            },
                            {
                                "type": "text",
                                "text": "developers",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", who\nwould rather check their full package of .po files in one go.\n\nThe attached patch makes the minimal change to enable "
                            },
                            {
                                "type": "text",
                                "text": "tools::checkPoFiles()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nto work as I intended, though there are other approaches here we could\nconsider."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18643] checkPoFiles() should not require language=*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18643>\n\nMichael Chirico (<mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3279|0                           |1\n        is obsolete|                            |\n\n--- Comment #1 from Michael Chirico (<mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>) ---\nCreated attachment 3280\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3280&amp;action=edit>\nExtend checkPoFiles() to allow missing(language) to mean \"all languages\"\n\n(re-attaching as 'patch')",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1704295064.502089",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "K9V0y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18643] checkPoFiles() should not require language=",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18643"
                            },
                            {
                                "type": "text",
                                "text": "\n\nMichael Chirico ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3279|0                           |1\n        is obsolete|                            |\n\n--- Comment #1 from Michael Chirico ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nCreated attachment 3280\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3280&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3280&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nExtend checkPoFiles() to allow missing(language) to mean \"all languages\"\n\n(re-attaching as 'patch')"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18644] New: checkPoFile() should endeavor to point out non-ASCII format entries*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18644>\n\n            Bug ID: 18644\n           Summary: checkPoFile() should endeavor to point out non-ASCII\n                    format entries\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Translations\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>\n\nConsider:\n\n```\n# \\UFF53: ｓ = \"FULLWIDTH LATIN SMALL LETTER S\"\ncat('msgid \"%s\"\\nmsgstr \"%\\UFF53\"\\n', file=po &lt;- tempfile(fileext=\".po\"))\ntools::checkPoFile(po)\n# \/tmp\/RtmpnmXGUH\/file1c15537729694.po:2\n# unrecognised format specification '%ｓ'\n# %s\n# %ｓ\n```\n\nWe can imagine seeing this error with hazy eyes and not quite knowing what's\nwrong. I'm sure there are better UTF-8-vs-ASCII twin examples out there too.\nMoreover this type of mistake is common as translators may forget to switch\nkeyboards as they are writing messages.\n\nSo I think we should try and do better to point out \"Maybe you meant '%s'?\".\n\nI know that we can use `iconv(\"%ｓ\", to=\"ASCII\/\/TRANSLIT\")` to find the ASCII\n`s` that was intended, but I'm not sure how robust this is across platforms,\nand also not sure they best way to incorporate that to the existing code -- the\ncurrent error is coming from the C routine `getfmts`:\n\n<https:\/\/github.com\/r-devel\/r-svn\/blob\/f12b29bb485bc6ca4e0dce83ce7b03d9987de760\/src\/library\/tools\/src\/getfmts.c#L96>\n\nFiling the issue first to probe interest before getting too involved in a\npatch.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1704296893.595669",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yd\/oL",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18644] New: checkPoFile() should endeavor to point out non-ASCII format entries",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18644"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18644\n           Summary: checkPoFile() should endeavor to point out non-ASCII\n                    format entries\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Translations\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nConsider:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "# \\UFF53: ｓ = \"FULLWIDTH LATIN SMALL LETTER S\"\ncat('msgid \"%s\"\\nmsgstr \"%\\UFF53\"\\n', file=po <- tempfile(fileext=\".po\"))\ntools::checkPoFile(po)\n# \/tmp\/RtmpnmXGUH\/file1c15537729694.po:2\n# unrecognised format specification '%ｓ'\n# %s\n# %ｓ\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nWe can imagine seeing this error with hazy eyes and not quite knowing what's\nwrong. I'm sure there are better UTF-8-vs-ASCII twin examples out there too.\nMoreover this type of mistake is common as translators may forget to switch\nkeyboards as they are writing messages.\n\nSo I think we should try and do better to point out \"Maybe you meant '%s'?\".\n\nI know that we can use "
                            },
                            {
                                "type": "text",
                                "text": "iconv(\"%ｓ\", to=\"ASCII\/\/TRANSLIT\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to find the ASCII\n"
                            },
                            {
                                "type": "text",
                                "text": "s",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " that was intended, but I'm not sure how robust this is across platforms,\nand also not sure they best way to incorporate that to the existing code -- the\ncurrent error is coming from the C routine "
                            },
                            {
                                "type": "text",
                                "text": "getfmts",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ":\n\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/r-devel\/r-svn\/blob\/f12b29bb485bc6ca4e0dce83ce7b03d9987de760\/src\/library\/tools\/src\/getfmts.c#L96"
                            },
                            {
                                "type": "text",
                                "text": "\n\nFiling the issue first to probe interest before getting too involved in a\npatch."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18645] New: tools::startDynamicHelp() does not fail if port is out of range (&gt; 65535)*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18645>\n\n            Bug ID: 18645\n           Summary: tools::startDynamicHelp() does not fail if port is out\n                    of range (&gt; 65535)\n           Product: R\n           Version: R 4.3.x\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Misc\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:henrikb@braju.com|henrikb@braju.com>\n\nOn Ubuntu 22.04 Linux as well as on MS Windows 10:\n\n```\n$ R --vanilla\nR version 4.3.2 (2023-10-31) -- \"Eye Holes\"\nCopyright (C) 2023 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n...\n\n&gt; options(help.ports = 12345678L)\n&gt; port &lt;- tools::startDynamicHelp(TRUE)\nstarting httpd help server ... done\n&gt; port\n[1] 12345678\n&gt; port &lt;- tools::startDynamicHelp(NA)\n&gt; port\n[1] 12345678\n&gt; help.start(browser = function(url) print(url))\n[1] \"<http:\/\/127.0.0.1:12345678\/doc\/html\/index.html>\"\n```\n\nNote how `tools::startDynamicHelp()` silently claims it's running the internal\ndynamic help server on TCP port 12345678 (&gt; 65535), and how it'll try to open\nan URL with that port.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1704342409.085379",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "xGNe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18645] New: tools::startDynamicHelp() does not fail if port is out of range (> 65535)",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18645"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18645\n           Summary: tools::startDynamicHelp() does not fail if port is out\n                    of range (> 65535)\n           Product: R\n           Version: R 4.3.x\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Misc\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:henrikb@braju.com",
                                "text": "henrikb@braju.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nOn Ubuntu 22.04 Linux as well as on MS Windows 10:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "$ R --vanilla\nR version 4.3.2 (2023-10-31) -- \"Eye Holes\"\nCopyright (C) 2023 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n...\n\n> options(help.ports = 12345678L)\n> port <- tools::startDynamicHelp(TRUE)\nstarting httpd help server ... done\n> port\n[1] 12345678\n> port <- tools::startDynamicHelp(NA)\n> port\n[1] 12345678\n> help.start(browser = function(url) print(url))\n[1] \""
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/127.0.0.1:12345678\/doc\/html\/index.html"
                            },
                            {
                                "type": "text",
                                "text": "\"\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nNote how "
                            },
                            {
                                "type": "text",
                                "text": "tools::startDynamicHelp()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " silently claims it's running the internal\ndynamic help server on TCP port 12345678 (> 65535), and how it'll try to open\nan URL with that port."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]