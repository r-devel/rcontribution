[
    {
        "user": "U0524MK6H3K",
        "type": "message",
        "ts": "1681818556.768709",
        "client_msg_id": "61485497-f210-457b-aa82-a03d31b9ec5c",
        "text": "Interesting. You seem to be falling foul of `tools:::.Rtest_package_depends_R_version`. What is the value of `R.version` in your build of R? Does `tools:::.Rtest_package_depends_R_version('tests\/Pkgs\/pkgA')` produce the same error message? I guess that something had happened to your `R.version[['svn rev']]`.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gc7f0c5d391a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c7f0c5d391a6f869c9310694b55fa506.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Krylov",
            "display_name": "Ivan Krylov",
            "team": "T01DW9DLB2A",
            "name": "ikrylov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "YWRkY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Interesting. You seem to be falling foul of "
                            },
                            {
                                "type": "text",
                                "text": "tools:::.Rtest_package_depends_R_version",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". What is the value of "
                            },
                            {
                                "type": "text",
                                "text": "R.version",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in your build of R? Does "
                            },
                            {
                                "type": "text",
                                "text": "tools:::.Rtest_package_depends_R_version('tests\/Pkgs\/pkgA')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " produce the same error message? I guess that something had happened to your "
                            },
                            {
                                "type": "text",
                                "text": "R.version[['svn rev']]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U041CL6454N",
        "type": "message",
        "ts": "1681832308.248059",
        "client_msg_id": "36476be0-4ee0-41bb-ae3d-f6617f536abd",
        "text": "`R.version`  returns:\n```platform       x86_64-w64-mingw32                                     \narch           x86_64                                                 \nos             mingw32                                                \ncrt            ucrt                                                   \nsystem         x86_64, mingw32                                        \nstatus         Under development (unstable)                           \nmajor          4                                                      \nminor          4.0                                                    \nyear           2023                                                   \nmonth          04                                                     \nday            17                                                     \nsvn rev        84270                                                  \nlanguage       R                                                      \nversion.string R Under development (unstable) (2023-04-17 r84270 ucrt)\nnickname       Unsuffered Consequences```\n`tools:::.Rtest_package_depends_R_version('D:\\\\R Development\\\\tests\\\\Pkgs\\\\pkgA')`  does not return the same message, but, it gives the following error:\n```Error in .read_description(file.path(dir, \"DESCRIPTION\")) : \n  file 'D:\\R Development\\tests\\Pkgs\\pkgA\/DESCRIPTION' does not exist```\nand rightfully so, as `pkgA`, I noticed, is a single text file, however, `pkgB` and `pkgC` are all contained in folders...",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "0e3d8ea67951",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-24\/4687497652629_0e3d8ea67951340d9e0a_72.jpg",
            "first_name": "Debartha",
            "real_name": "Debartha Paul",
            "display_name": "Debartha Paul",
            "team": "T01DW9DLB2A",
            "name": "pauldeep102",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "vG1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "R.version",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  returns:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "platform       x86_64-w64-mingw32                                     \narch           x86_64                                                 \nos             mingw32                                                \ncrt            ucrt                                                   \nsystem         x86_64, mingw32                                        \nstatus         Under development (unstable)                           \nmajor          4                                                      \nminor          4.0                                                    \nyear           2023                                                   \nmonth          04                                                     \nday            17                                                     \nsvn rev        84270                                                  \nlanguage       R                                                      \nversion.string R Under development (unstable) (2023-04-17 r84270 ucrt)\nnickname       Unsuffered Consequences"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "tools:::.Rtest_package_depends_R_version('D:\\\\R Development\\\\tests\\\\Pkgs\\\\pkgA')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  does not return the same message, but, it gives the following error:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Error in .read_description(file.path(dir, \"DESCRIPTION\")) : \n  file 'D:\\R Development\\tests\\Pkgs\\pkgA\/DESCRIPTION' does not exist"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "and rightfully so, as "
                            },
                            {
                                "type": "text",
                                "text": "pkgA",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", I noticed, is a single text file, however, "
                            },
                            {
                                "type": "text",
                                "text": "pkgB",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "pkgC",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are all contained in folders..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0524MK6H3K",
        "type": "message",
        "ts": "1681832982.578769",
        "edited": {
            "user": "U0524MK6H3K",
            "ts": "1681833558.000000"
        },
        "client_msg_id": "33ff0925-07f2-4913-b624-0b1db7fd9e5a",
        "text": "Right, `pkgA` is supposed to be a symlink. Maybe the test resolves the symlink manually (it definitely progresses past building the package, so it must have done this somehow). Does `tools:::.Rtest_package_depends_R_version('tests\/Pkgs\/xDir\/pkg')` say anything useful?",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gc7f0c5d391a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c7f0c5d391a6f869c9310694b55fa506.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Krylov",
            "display_name": "Ivan Krylov",
            "team": "T01DW9DLB2A",
            "name": "ikrylov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6bP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Right, "
                            },
                            {
                                "type": "text",
                                "text": "pkgA",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is supposed to be a symlink. Maybe the test resolves the symlink manually (it definitely progresses past building the package, so it must have done this somehow). Does "
                            },
                            {
                                "type": "text",
                                "text": "tools:::.Rtest_package_depends_R_version('tests\/Pkgs\/xDir\/pkg')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " say anything useful?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U041CL6454N",
        "type": "message",
        "ts": "1681833813.102219",
        "client_msg_id": "18d5dddf-5aa4-4ff7-9af0-3c428e816d65",
        "text": "It returns `FALSE` ...",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "0e3d8ea67951",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-24\/4687497652629_0e3d8ea67951340d9e0a_72.jpg",
            "first_name": "Debartha",
            "real_name": "Debartha Paul",
            "display_name": "Debartha Paul",
            "team": "T01DW9DLB2A",
            "name": "pauldeep102",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "5RN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It returns "
                            },
                            {
                                "type": "text",
                                "text": "FALSE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0524MK6H3K",
        "type": "message",
        "ts": "1681833993.900299",
        "edited": {
            "user": "U0524MK6H3K",
            "ts": "1681834851.000000"
        },
        "client_msg_id": "9e57f4c9-b9b6-4490-96fe-459f64a8df08",
        "text": "Let's approach it from a different point. If you `source()` the test file with `options(warn = 2, error = recover)` set, does it crash around the same place (where `pkgA` is being installed)? *Edit*: no, it doesn't. But without the `warn = 2` (i.e. `warn = 0` or `1`), you can at least capture the value of the `r` variable and look at the contents of the package that fails installation.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gc7f0c5d391a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c7f0c5d391a6f869c9310694b55fa506.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Krylov",
            "display_name": "Ivan Krylov",
            "team": "T01DW9DLB2A",
            "name": "ikrylov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "=y+by",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Let's approach it from a different point. If you "
                            },
                            {
                                "type": "text",
                                "text": "source()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " the test file with "
                            },
                            {
                                "type": "text",
                                "text": "options(warn = 2, error = recover)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " set, does it crash around the same place (where "
                            },
                            {
                                "type": "text",
                                "text": "pkgA",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is being installed)? "
                            },
                            {
                                "type": "text",
                                "text": "Edit",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ": no, it doesn't. But without the "
                            },
                            {
                                "type": "text",
                                "text": "warn = 2",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (i.e. "
                            },
                            {
                                "type": "text",
                                "text": "warn = 0",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " or "
                            },
                            {
                                "type": "text",
                                "text": "1",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "), you can at least capture the value of the "
                            },
                            {
                                "type": "text",
                                "text": "r",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " variable and look at the contents of the package that fails installation."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U041CL6454N",
        "type": "message",
        "ts": "1681838547.153099",
        "client_msg_id": "a5ea6c14-03a0-4503-a99d-c77db275e25a",
        "text": "I did try it, but couldn't understand it. I am pasting the output here:\n```Time elapsed:  0.03 0.00 0.03 \nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst2\/Read-and-delete-me'.\nWarning: package 'myTst' is in use and will not be installed\n     Package LibPath Version Priority Depends Imports LinkingTo Suggests\n     Enhances License License_is_FOSS License_restricts_use OS_type Archs\n     MD5sum NeedsCompilation Built\nTime elapsed:  0.04 0.06 2.32 \nError in dirCopy(pP2, pP3) : dir.exists(d1) is not TRUE\nIn addition: Warning messages:\n1: In package.skeleton(\"myTst\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst\/R:\n  'file19e45e116d2e'\n are now renamed to 'z&lt;name&gt;.R'\n2: In package.skeleton(\"myTst2\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst2\/R:\n  'file19e45e116d2e'\n are now renamed to 'z&lt;name&gt;.R'\n3: In file.copy(pkgSrcPath, tempdir(), recursive = TRUE) :\n  problem copying \\Pkgs to C:\\Users\\user\\AppData\\Local\\Temp\\Rtmpqe5Bja\\Pkgs: No such file or directory\n\nEnter a frame number, or 0 to exit   \n\n1: source(\"D:\\\\R Development\\\\tests\\\\reg-packages.R\")\n2: withVisible(eval(ei, envir))\n3: eval(ei, envir)\n4: eval(ei, envir)\n5: reg-packages.R#186: dirCopy(pP2, pP3)\n6: reg-packages.R#153: stopifnot(exprs = {\n    length(d1) == length(d2)\n    leng\n7: eval(cl, envir = envir)\n8: eval(cl, envir = envir)\n9: stopifnot(length(d1) == length(d2), length(d1) == 1, dir.exists(d1), dir.ex```\nI can see the error in `dirCopy()` ...",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "0e3d8ea67951",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-24\/4687497652629_0e3d8ea67951340d9e0a_72.jpg",
            "first_name": "Debartha",
            "real_name": "Debartha Paul",
            "display_name": "Debartha Paul",
            "team": "T01DW9DLB2A",
            "name": "pauldeep102",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "e49",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I did try it, but couldn't understand it. I am pasting the output here:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Time elapsed:  0.03 0.00 0.03 \nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst2\/Read-and-delete-me'.\nWarning: package 'myTst' is in use and will not be installed\n     Package LibPath Version Priority Depends Imports LinkingTo Suggests\n     Enhances License License_is_FOSS License_restricts_use OS_type Archs\n     MD5sum NeedsCompilation Built\nTime elapsed:  0.04 0.06 2.32 \nError in dirCopy(pP2, pP3) : dir.exists(d1) is not TRUE\nIn addition: Warning messages:\n1: In package.skeleton(\"myTst\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst\/R:\n  'file19e45e116d2e'\n are now renamed to 'z<name>.R'\n2: In package.skeleton(\"myTst2\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst2\/R:\n  'file19e45e116d2e'\n are now renamed to 'z<name>.R'\n3: In file.copy(pkgSrcPath, tempdir(), recursive = TRUE) :\n  problem copying \\Pkgs to C:\\Users\\user\\AppData\\Local\\Temp\\Rtmpqe5Bja\\Pkgs: No such file or directory\n\nEnter a frame number, or 0 to exit   \n\n1: source(\"D:\\\\R Development\\\\tests\\\\reg-packages.R\")\n2: withVisible(eval(ei, envir))\n3: eval(ei, envir)\n4: eval(ei, envir)\n5: reg-packages.R#186: dirCopy(pP2, pP3)\n6: reg-packages.R#153: stopifnot(exprs = {\n    length(d1) == length(d2)\n    leng\n7: eval(cl, envir = envir)\n8: eval(cl, envir = envir)\n9: stopifnot(length(d1) == length(d2), length(d1) == 1, dir.exists(d1), dir.ex"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I can see the error in "
                            },
                            {
                                "type": "text",
                                "text": "dirCopy()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ..."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U0524MK6H3K",
        "type": "message",
        "ts": "1681849514.190099",
        "client_msg_id": "a290f1a1-84ad-4c96-9396-bdbd7f341598",
        "text": "I wasn't exactly precise again, sorry. You'll have to `setwd('...\/tests')` for `source('reg-packages.R')`  to work.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gc7f0c5d391a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c7f0c5d391a6f869c9310694b55fa506.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Krylov",
            "display_name": "Ivan Krylov",
            "team": "T01DW9DLB2A",
            "name": "ikrylov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tvAG3",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I wasn't exactly precise again, sorry. You'll have to "
                            },
                            {
                                "type": "text",
                                "text": "setwd('...\/tests')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for "
                            },
                            {
                                "type": "text",
                                "text": "source('reg-packages.R')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  to work."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U041CL6454N",
        "type": "message",
        "ts": "1681875271.482759",
        "edited": {
            "user": "U041CL6454N",
            "ts": "1681878202.000000"
        },
        "client_msg_id": "1b0553d6-0e94-4844-8e13-9bb67585f158",
        "text": "<@U0524MK6H3K>  It's almost the same error, but with some differences:\n```Time elapsed:  0.00 0.03 0.03 \nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nWarning in package.skeleton(\"myTst\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst\/R:\n  'fileb607a60489f'\n are now renamed to 'z&lt;name&gt;.R'\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nWarning in package.skeleton(\"myTst2\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst2\/R:\n  'fileb607a60489f'\n are now renamed to 'z&lt;name&gt;.R'\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst2\/Read-and-delete-me'.\n* installing *source* package 'myTst' ...\n** using staged installation\n** R\n** byte-compile and prepare package for lazy loading\n** help\nWarning: myTst-package.Rd:27: All text must be in a section\nWarning: myTst-package.Rd:28: All text must be in a section\n*** installing help indices\n** building package indices\n** testing if installed package can be loaded from temporary location\n** testing if installed package can be loaded from final location\n** testing if installed package keeps a record of temporary installation path\n* DONE (myTst)\n      Package LibPath Version Priority Depends Imports   LinkingTo Suggests\nmyTst \"myTst\" \"myLib\" \"1.0\"   NA       NA      \"methods\" NA        NA      \n      Enhances License                     License_is_FOSS\nmyTst NA       \"What license is it under?\" NA             \n      License_restricts_use OS_type MD5sum NeedsCompilation Built  \nmyTst NA                    NA      NA     NA               \"4.4.0\"\nLoading required package: myTst\nTime elapsed:  0.14 0.02 5.23 \nWarning in file.copy(pkgSrcPath, tempdir(), recursive = TRUE) :\n  problem copying \\Pkgs to C:\\Users\\user\\AppData\\Local\\Temp\\RtmpgrrBfw\\Pkgs: No such file or directory\nNo valid 'pkgPath' (from 'pkgSrcPath') - exit this test\nError in dirCopy(pP2, pP3) : dir.exists(d1) is not TRUE\n\nEnter a frame number, or 0 to exit   \n\n1: source(\"reg-packages.R\")\n2: withVisible(eval(ei, envir))\n3: eval(ei, envir)\n4: eval(ei, envir)\n5: reg-packages.R#186: dirCopy(pP2, pP3)\n6: reg-packages.R#153: stopifnot(exprs = {\n    length(d1) == length(d2)\n    leng\n7: eval(cl, envir = envir)\n8: eval(cl, envir = envir)\n9: stopifnot(length(d1) == length(d2), length(d1) == 1, dir.exists(d1), dir.ex```",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "0e3d8ea67951",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-24\/4687497652629_0e3d8ea67951340d9e0a_72.jpg",
            "first_name": "Debartha",
            "real_name": "Debartha Paul",
            "display_name": "Debartha Paul",
            "team": "T01DW9DLB2A",
            "name": "pauldeep102",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "AGWFS",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U0524MK6H3K"
                            },
                            {
                                "type": "text",
                                "text": "  It's almost the same error, but with some differences:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Time elapsed:  0.00 0.03 0.03 \nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nWarning in package.skeleton(\"myTst\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst\/R:\n  'fileb607a60489f'\n are now renamed to 'z<name>.R'\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst\/Read-and-delete-me'.\nCreating directories ...\nCreating DESCRIPTION ...\nCreating NAMESPACE ...\nCreating Read-and-delete-me ...\nCopying code files ...\nWarning in package.skeleton(\"myTst2\", code_files = tmp) :\n  Invalid file name(s) for R code in .\/myTst2\/R:\n  'fileb607a60489f'\n are now renamed to 'z<name>.R'\nMaking help files ...\nDone.\nFurther steps are described in '.\/myTst2\/Read-and-delete-me'.\n* installing *source* package 'myTst' ...\n** using staged installation\n** R\n** byte-compile and prepare package for lazy loading\n** help\nWarning: myTst-package.Rd:27: All text must be in a section\nWarning: myTst-package.Rd:28: All text must be in a section\n*** installing help indices\n** building package indices\n** testing if installed package can be loaded from temporary location\n** testing if installed package can be loaded from final location\n** testing if installed package keeps a record of temporary installation path\n* DONE (myTst)\n      Package LibPath Version Priority Depends Imports   LinkingTo Suggests\nmyTst \"myTst\" \"myLib\" \"1.0\"   NA       NA      \"methods\" NA        NA      \n      Enhances License                     License_is_FOSS\nmyTst NA       \"What license is it under?\" NA             \n      License_restricts_use OS_type MD5sum NeedsCompilation Built  \nmyTst NA                    NA      NA     NA               \"4.4.0\"\nLoading required package: myTst\nTime elapsed:  0.14 0.02 5.23 \nWarning in file.copy(pkgSrcPath, tempdir(), recursive = TRUE) :\n  problem copying \\Pkgs to C:\\Users\\user\\AppData\\Local\\Temp\\RtmpgrrBfw\\Pkgs: No such file or directory\nNo valid 'pkgPath' (from 'pkgSrcPath') - exit this test\nError in dirCopy(pP2, pP3) : dir.exists(d1) is not TRUE\n\nEnter a frame number, or 0 to exit   \n\n1: source(\"reg-packages.R\")\n2: withVisible(eval(ei, envir))\n3: eval(ei, envir)\n4: eval(ei, envir)\n5: reg-packages.R#186: dirCopy(pP2, pP3)\n6: reg-packages.R#153: stopifnot(exprs = {\n    length(d1) == length(d2)\n    leng\n7: eval(cl, envir = envir)\n8: eval(cl, envir = envir)\n9: stopifnot(length(d1) == length(d2), length(d1) == 1, dir.exists(d1), dir.ex"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U0524MK6H3K",
        "type": "message",
        "ts": "1681884777.659219",
        "edited": {
            "user": "U0524MK6H3K",
            "ts": "1681884846.000000"
        },
        "client_msg_id": "5e3946a0-60cd-4eff-9408-fd6fdda3273b",
        "text": "Apparently, all of the environment also matters. I shouldn't be giving out advice while tired. If you type `make -n -f Makefile.win reg-packages.Rout`, Make will print the following command line:\n`..\/bin\/x64\/Rterm --vanilla LC_ALL=C SRCDIR=. R_DEFAULT_PACKAGES=` (followed by the parts that make it run this particular test).\nCan you run just the part that starts Rterm with `SRCDIR` and other environment variables set (we were missing `SRCDIR` in particular), then `source('reg-packages.R')`? I have just verified that it works on my Windows machine.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gc7f0c5d391a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c7f0c5d391a6f869c9310694b55fa506.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0018-72.png",
            "first_name": "Ivan",
            "real_name": "Ivan Krylov",
            "display_name": "Ivan Krylov",
            "team": "T01DW9DLB2A",
            "name": "ikrylov",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Dcw6p",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Apparently, all of the environment also matters. I shouldn't be giving out advice while tired. If you type "
                            },
                            {
                                "type": "text",
                                "text": "make -n -f Makefile.win reg-packages.Rout",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", Make will print the following command line:\n"
                            },
                            {
                                "type": "text",
                                "text": "..\/bin\/x64\/Rterm --vanilla LC_ALL=C SRCDIR=. R_DEFAULT_PACKAGES=",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (followed by the parts that make it run this particular test).\nCan you run just the part that starts Rterm with "
                            },
                            {
                                "type": "text",
                                "text": "SRCDIR",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and other environment variables set (we were missing "
                            },
                            {
                                "type": "text",
                                "text": "SRCDIR",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in particular), then "
                            },
                            {
                                "type": "text",
                                "text": "source('reg-packages.R')",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "? I have just verified that it works on my Windows machine."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U041CL6454N",
        "type": "message",
        "ts": "1681886606.962389",
        "client_msg_id": "3e56fa8d-0e98-4e8d-97ca-4082fb2ba4d9",
        "text": "I ran `make -n -f Makefile.win reg-packages.Rout`  and it did print as expected. But can you be more specific as to how I can start Rterm with `SRCDIR`  and other variables set?",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "0e3d8ea67951",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-01-24\/4687497652629_0e3d8ea67951340d9e0a_72.jpg",
            "first_name": "Debartha",
            "real_name": "Debartha Paul",
            "display_name": "Debartha Paul",
            "team": "T01DW9DLB2A",
            "name": "pauldeep102",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1681743171.071069",
        "parent_user_id": "U041CL6454N",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Af4x",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I ran "
                            },
                            {
                                "type": "text",
                                "text": "make -n -f Makefile.win reg-packages.Rout",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  and it did print as expected. But can you be more specific as to how I can start Rterm with "
                            },
                            {
                                "type": "text",
                                "text": "SRCDIR",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  and other variables set?"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]