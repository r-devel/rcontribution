[
    {
        "user": "U053DCDAF6U",
        "type": "message",
        "ts": "1711898986.170349",
        "client_msg_id": "94df9ca1-c357-4533-9c88-b46abe9d8e4e",
        "text": "I’ve got a question regarding R’s C API and protection rules. I’m reviewing some behavior in [`extendr` ](<https:\/\/extendr.github.io\/>) regarding how it protects items.\n\nEssentially there is a `VECSXP ` which stores the `SEXP` of items to be protected. My understanding is that any item inside of a list (VECSXP) is automatically protected because of\n\n&gt; “Protecting an R object automatically protects all the R objects pointed to in the corresponding `SEXPREC`, for example all elements of a protected list are automatically protected.” 5.9.1 writing R ext\nThe protection mechanism in extendr takes an `SEXP` uses `Rf_protect()` on the SEXP and then inserts it into the VECSXP. My understanding is that the individual Rf_protect() is unnecessary because it is inserted into the VECSXP. Is that a fair interpretation?\n\n[Related comment in GH](<https:\/\/github.com\/extendr\/extendr\/pull\/666\/files#r1545719123>)",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "e714e755f196",
            "image_72": "https:\/\/avatars.slack-edge.com\/2023-04-11\/5077198575479_e714e755f19651f9eb3b_72.jpg",
            "first_name": "Josiah",
            "real_name": "Josiah Parry",
            "display_name": "",
            "team": "T01DW9DLB2A",
            "name": "josiah.parry",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1711898986.170349",
        "reply_count": 5,
        "reply_users_count": 2,
        "latest_reply": "1712086027.842229",
        "reply_users": [
            "U057G5HEN7L",
            "U053DCDAF6U"
        ],
        "replies": [
            {
                "user": "U057G5HEN7L",
                "ts": "1712047687.958399"
            },
            {
                "user": "U057G5HEN7L",
                "ts": "1712048185.114959"
            },
            {
                "user": "U053DCDAF6U",
                "ts": "1712068890.116199"
            },
            {
                "user": "U057G5HEN7L",
                "ts": "1712085950.413979"
            },
            {
                "user": "U057G5HEN7L",
                "ts": "1712086027.842229"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "attachments": [
            {
                "from_url": "https:\/\/extendr.github.io\/",
                "id": 1,
                "original_url": "https:\/\/extendr.github.io\/",
                "fallback": "Extendr: A safe and user friendly R extension interface using Rust.",
                "text": "NA",
                "title": "Extendr: A safe and user friendly R extension interface using Rust.",
                "title_link": "https:\/\/extendr.github.io\/",
                "service_name": "extendr.github.io"
            }
        ],
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "BsFtu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I’ve got a question regarding R’s C API and protection rules. I’m reviewing some behavior in ["
                            },
                            {
                                "type": "text",
                                "text": "extendr",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ]("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/extendr.github.io\/"
                            },
                            {
                                "type": "text",
                                "text": ") regarding how it protects items.\n\nEssentially there is a `VECSXP ` which stores the "
                            },
                            {
                                "type": "text",
                                "text": "SEXP",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " of items to be protected. My understanding is that any item inside of a list (VECSXP) is automatically protected because of\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "“Protecting an R object automatically protects all the R objects pointed to in the corresponding "
                            },
                            {
                                "type": "text",
                                "text": "SEXPREC",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", for example all elements of a protected list are automatically protected.” 5.9.1 writing R ext"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nThe protection mechanism in extendr takes an "
                            },
                            {
                                "type": "text",
                                "text": "SEXP",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " uses "
                            },
                            {
                                "type": "text",
                                "text": "Rf_protect()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " on the SEXP and then inserts it into the VECSXP. My understanding is that the individual Rf_protect() is unnecessary because it is inserted into the VECSXP. Is that a fair interpretation?\n\n[Related comment in GH]("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/extendr\/extendr\/pull\/666\/files#r1545719123"
                            },
                            {
                                "type": "text",
                                "text": ")"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]