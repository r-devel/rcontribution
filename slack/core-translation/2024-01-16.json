[
    {
        "user": "U043HSXEWKA",
        "type": "message",
        "ts": "1705395241.266349",
        "edited": {
            "user": "U043HSXEWKA",
            "ts": "1705396511.000000"
        },
        "client_msg_id": "0fdd77d9-71ec-4377-8008-ed2e65c07353",
        "text": "Hi all, Can I ask a question about `gettext`?If some `gettext()` calls are nested in `gettextf()`, it seems that `gettext()` will not return the translation. if i see the .pot files it's jus generated strings inside `gettextf` . Is this the expected behavior? Should I post it somewhere else? example:\n\n```gettextf(\"Conditional %s Plots\", ifelse(type == \"Prior\", gettext(\"Prior\"), gettext(\"Posterior\")))```",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "ff490c3415a6",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-09-17\/4119915523248_ff490c3415a6f5590ecd_72.png",
            "first_name": "Shun",
            "real_name": "Shun Wang",
            "display_name": "Shun Wang",
            "team": "T01DW9DLB2A",
            "name": "shuonwang",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "reply_count": 8,
        "reply_users_count": 2,
        "latest_reply": "1705405068.375879",
        "reply_users": [
            "U01N3ET8N82",
            "U043HSXEWKA"
        ],
        "replies": [
            {
                "user": "U01N3ET8N82",
                "ts": "1705396706.932759"
            },
            {
                "user": "U043HSXEWKA",
                "ts": "1705396921.342769"
            },
            {
                "user": "U01N3ET8N82",
                "ts": "1705400349.218579"
            },
            {
                "user": "U043HSXEWKA",
                "ts": "1705400873.089669"
            },
            {
                "user": "U01N3ET8N82",
                "ts": "1705401025.305249"
            },
            {
                "user": "U043HSXEWKA",
                "ts": "1705401131.990089"
            },
            {
                "user": "U043HSXEWKA",
                "ts": "1705402546.656469"
            },
            {
                "user": "U01N3ET8N82",
                "ts": "1705405068.375879"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "a\/ejJ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi all, Can I ask a question about "
                            },
                            {
                                "type": "text",
                                "text": "gettext",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "?If some `gettext()` calls are nested in "
                            },
                            {
                                "type": "text",
                                "text": "gettextf()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", it seems that `gettext()` will not return the translation. if i see the .pot files it's jus generated strings inside "
                            },
                            {
                                "type": "text",
                                "text": "gettextf",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " . Is this the expected behavior? Should I post it somewhere else? example:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "gettextf(\"Conditional %s Plots\", ifelse(type == \"Prior\", gettext(\"Prior\"), gettext(\"Posterior\")))"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01KXU8UNRX"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01N3ET8N82",
        "type": "message",
        "ts": "1705396706.932759",
        "client_msg_id": "f4043f2b-93c3-44f9-b504-d629225f3bfe",
        "text": "which is not translated? is there a correct entry in .pot\/.po?\n\nFWIW, I would not translate like this. IMO ifelse(type==\"Prior\", gettext(\"Conditional Prior Plots\"), gettext(\"Conditional Posterior Plots\")) is preferable",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "6c5b09058425",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-26\/7489004466548_6c5b09058425ecbe2d89_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Chirico",
            "display_name": "Michael Chirico (he\/him)",
            "team": "T01DW9DLB2A",
            "name": "michaelchirico4",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "UsI0Y",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "which is not translated? is there a correct entry in .pot\/.po?\n\nFWIW, I would not translate like this. IMO ifelse(type==\"Prior\", gettext(\"Conditional Prior Plots\"), gettext(\"Conditional Posterior Plots\")) is preferable"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01KXU8UNRX"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U043HSXEWKA",
        "type": "message",
        "ts": "1705396921.342769",
        "edited": {
            "user": "U043HSXEWKA",
            "ts": "1705397077.000000"
        },
        "client_msg_id": "1d366958-230c-4e86-94e0-9799ecbc543d",
        "text": "the strings inside gettext will not into .pot\/po in this situation.\n\nYes, this is an extreme example I made, because we can always avoid this nested.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "ff490c3415a6",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-09-17\/4119915523248_ff490c3415a6f5590ecd_72.png",
            "first_name": "Shun",
            "real_name": "Shun Wang",
            "display_name": "Shun Wang",
            "team": "T01DW9DLB2A",
            "name": "shuonwang",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6UzEh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "the strings inside gettext will not into .pot\/po in this situation.\n\nYes, this is an extreme example I made, because we can always avoid this nested."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01KXU8UNRX",
                    "U01N3ET8N82"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U01N3ET8N82",
        "type": "message",
        "ts": "1705400349.218579",
        "client_msg_id": "f43d2f38-16b4-49d1-a81a-613eea2981e9",
        "text": "how are you populating your pot file?",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "6c5b09058425",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-26\/7489004466548_6c5b09058425ecbe2d89_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Chirico",
            "display_name": "Michael Chirico (he\/him)",
            "team": "T01DW9DLB2A",
            "name": "michaelchirico4",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sawjr",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "how are you populating your pot file?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U043HSXEWKA",
        "type": "message",
        "ts": "1705400873.089669",
        "client_msg_id": "a80af56c-e536-44a2-a695-207de72496e1",
        "text": "I using `tools::update_pkg_po` to update all pot\/po files",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "ff490c3415a6",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-09-17\/4119915523248_ff490c3415a6f5590ecd_72.png",
            "first_name": "Shun",
            "real_name": "Shun Wang",
            "display_name": "Shun Wang",
            "team": "T01DW9DLB2A",
            "name": "shuonwang",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kX3GN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I using "
                            },
                            {
                                "type": "text",
                                "text": "tools::update_pkg_po",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to update all pot\/po files"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01N3ET8N82"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01N3ET8N82",
        "type": "message",
        "ts": "1705401025.305249",
        "client_msg_id": "92d5f648-5d35-481c-ac52-c895c346b70d",
        "text": "thanks! can you (1) try potools::po_extract() instead? (2) if that doesn't work, please add entries for \"Prior\" and \"Posterior\" manually to .pot and .po, translate, compile to .mo, reinstall, and make sure that gettext() does work when the msgid appears correctly?",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "6c5b09058425",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-26\/7489004466548_6c5b09058425ecbe2d89_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Chirico",
            "display_name": "Michael Chirico (he\/him)",
            "team": "T01DW9DLB2A",
            "name": "michaelchirico4",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yHVMm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks! can you (1) try potools::po_extract() instead? (2) if that doesn't work, please add entries for \"Prior\" and \"Posterior\" manually to .pot and .po, translate, compile to .mo, reinstall, and make sure that gettext() does work when the msgid appears correctly?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U043HSXEWKA",
        "type": "message",
        "ts": "1705401131.990089",
        "client_msg_id": "5c302a0d-0a5f-4258-9f08-89c0cb7512b4",
        "text": "thanks, i will try.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "ff490c3415a6",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-09-17\/4119915523248_ff490c3415a6f5590ecd_72.png",
            "first_name": "Shun",
            "real_name": "Shun Wang",
            "display_name": "Shun Wang",
            "team": "T01DW9DLB2A",
            "name": "shuonwang",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lxZok",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thanks, i will try."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U043HSXEWKA",
        "type": "message",
        "ts": "1705402546.656469",
        "client_msg_id": "2212737b-831b-4748-abf3-8911412d3bd0",
        "text": "ah yes, seems potools' behavior is correct. it will generate all 3 entries. but tools::update_pkg_po will only get first entry.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "ff490c3415a6",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-09-17\/4119915523248_ff490c3415a6f5590ecd_72.png",
            "first_name": "Shun",
            "real_name": "Shun Wang",
            "display_name": "Shun Wang",
            "team": "T01DW9DLB2A",
            "name": "shuonwang",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VNzqe",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ah yes, seems potools' behavior is correct. it will generate all 3 entries. but tools::update_pkg_po will only get first entry."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U01N3ET8N82"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U01N3ET8N82",
        "type": "message",
        "ts": "1705405068.375879",
        "client_msg_id": "1463267c-749d-459f-bd35-42eb2c459601",
        "text": "I think there could be a bug in tools::xgettext() for this case. If you can make an MRE you might report it. I know there are a few cases where potools does \"better\" than xgettext(), I tried to file them all as issues already but may have missed a few.",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "6c5b09058425",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-07-26\/7489004466548_6c5b09058425ecbe2d89_72.jpg",
            "first_name": "Michael",
            "real_name": "Michael Chirico",
            "display_name": "Michael Chirico (he\/him)",
            "team": "T01DW9DLB2A",
            "name": "michaelchirico4",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1705395241.266349",
        "parent_user_id": "U043HSXEWKA",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bRJl1",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think there could be a bug in tools::xgettext() for this case. If you can make an MRE you might report it. I know there are a few cases where potools does \"better\" than xgettext(), I tried to file them all as issues already but may have missed a few."
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U043HSXEWKA",
                    "U01KXU8UNRX"
                ],
                "count": 2
            }
        ]
    },
    {
        "user": "U06EAE4LTFE",
        "type": "message",
        "ts": "1705473890.164709",
        "client_msg_id": "F224B505-1A49-43CA-9616-CD2625C8A072",
        "text": "hi i am new here",
        "team": "T01DW9DLB2A",
        "user_team": "T01DW9DLB2A",
        "source_team": "T01DW9DLB2A",
        "user_profile": {
            "avatar_hash": "gee585382015",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/ee5853820153378dafdda3289fe873e5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0016-72.png",
            "first_name": "Radhesh",
            "real_name": "Radhesh Goel",
            "display_name": "",
            "team": "T01DW9DLB2A",
            "name": "radhesh036916",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "WAAz8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "hi i am new here"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "wave::skin-tone-2",
                "users": [
                    "U01DZUA88S1"
                ],
                "count": 1
            },
            {
                "name": "wave",
                "users": [
                    "U01N3ET8N82",
                    "U027JEHGZRA",
                    "U03D12RB00L"
                ],
                "count": 3
            },
            {
                "name": "wave::skin-tone-5",
                "users": [
                    "U041CL6454N"
                ],
                "count": 1
            }
        ]
    }
]